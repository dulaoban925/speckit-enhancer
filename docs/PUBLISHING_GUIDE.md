# Speckit Enhancer å‘å¸ƒä¸ä½¿ç”¨æŒ‡å—

æœ¬æ–‡æ¡£æä¾›å®Œæ•´çš„é¡¹ç›®å‘å¸ƒæµç¨‹ã€ç”¨æˆ·ä½¿ç”¨æŒ‡å—å’Œå¼€å‘è€…è°ƒè¯•æ–¹æ³•ã€‚

---

## ğŸ“š ç›®å½•

- [å¿«é€Ÿå‘å¸ƒ](#-å¿«é€Ÿå‘å¸ƒ-5-åˆ†é’Ÿ)
- [å®Œæ•´å‘å¸ƒæµç¨‹](#-å®Œæ•´å‘å¸ƒæµç¨‹)
- [ç”¨æˆ·ä½¿ç”¨æŒ‡å—](#-ç”¨æˆ·ä½¿ç”¨æŒ‡å—)
- [å¼€å‘è€…æŒ‡å—](#-å¼€å‘è€…æŒ‡å—)
- [å·¥ä½œåŸç†](#-å·¥ä½œåŸç†)
- [æ•…éšœæ’æŸ¥](#-æ•…éšœæ’æŸ¥)

---

## ğŸš€ å¿«é€Ÿå‘å¸ƒï¼ˆ5 åˆ†é’Ÿï¼‰

### é¦–æ¬¡å‘å¸ƒ

```bash
# 1. ç¡®ä¿ä¾èµ–å·²å®‰è£…
npm install

# 2. æ„å»ºé¡¹ç›®
./scripts/build.sh

# 3. ç™»å½• npmï¼ˆé¦–æ¬¡éœ€è¦ï¼‰
cd cli
npm login

# 4. å‘å¸ƒ
npm publish
```

### åç»­å‘å¸ƒ

```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·
cd cli
npm version patch  # è¡¥ä¸ç‰ˆæœ¬ (1.0.0 â†’ 1.0.1)
# npm version minor  # æ¬¡è¦ç‰ˆæœ¬ (1.0.0 â†’ 1.1.0)
# npm version major  # ä¸»è¦ç‰ˆæœ¬ (1.0.0 â†’ 2.0.0)

# 2. æ„å»ºé¡¹ç›®
cd ..
./scripts/build.sh

# 3. å‘å¸ƒåˆ° npm
cd cli
npm publish
```

---

## ğŸ“‹ å®Œæ•´å‘å¸ƒæµç¨‹

### 1. å‡†å¤‡å‘å¸ƒ

```bash
# 1.1 ç¡®ä¿æ‰€æœ‰ä¾èµ–å·²å®‰è£…
npm install

# 1.2 è¿è¡Œæµ‹è¯•ï¼ˆå¦‚æœæœ‰ï¼‰
cd cli && npm test
cd ../dashboard && npm test
cd ..

# 1.3 æ›´æ–°ç‰ˆæœ¬å·ï¼ˆé‡è¦ï¼ï¼‰
cd cli
npm version <patch|minor|major>
# è¿™ä¼šè‡ªåŠ¨ï¼š
# - æ›´æ–° package.json ä¸­çš„ç‰ˆæœ¬å·
# - åˆ›å»º git tag (v1.0.x)
# - åˆ›å»º git commit
cd ..
```

**ç‰ˆæœ¬å·è§„åˆ™ï¼š**
- `patch`ï¼ˆè¡¥ä¸ï¼‰ï¼šBug ä¿®å¤ï¼Œå‘åå…¼å®¹ (1.0.0 â†’ 1.0.1)
- `minor`ï¼ˆæ¬¡è¦ï¼‰ï¼šæ–°å¢åŠŸèƒ½ï¼Œå‘åå…¼å®¹ (1.0.0 â†’ 1.1.0)
- `major`ï¼ˆä¸»è¦ï¼‰ï¼šç ´åæ€§å˜æ›´ï¼Œä¸å‘åå…¼å®¹ (1.0.0 â†’ 2.0.0)

### 2. æ„å»ºé¡¹ç›®

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
./scripts/build.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ¸…ç†æ—§çš„æ„å»ºæ–‡ä»¶
2. æ„å»º Dashboardï¼ˆç”Ÿæˆé™æ€æ–‡ä»¶åˆ° `dashboard/dist/`ï¼‰
3. å¤åˆ¶ Dashboard é™æ€æ–‡ä»¶åˆ° `cli/public/`
4. æ„å»º CLIï¼ˆTypeScript ç¼–è¯‘åˆ° `cli/dist/`ï¼‰

### 3. éªŒè¯æ„å»ºäº§ç‰©

```bash
# æ£€æŸ¥æ–‡ä»¶ç»“æ„
ls -la cli/dist/     # CLI ç¼–è¯‘åçš„ JS æ–‡ä»¶
ls -la cli/public/   # Dashboard é™æ€æ–‡ä»¶ï¼ˆå¿…é¡»åŒ…å« index.htmlï¼‰

# æœ¬åœ°æµ‹è¯•ç”Ÿäº§æ¨¡å¼
cd cli
node dist/index.js dashboard /path/to/test-project

# æˆ–è€…ä½¿ç”¨ npm pack æµ‹è¯•å®Œæ•´å®‰è£…åŒ…
npm pack
npm install -g ./speckit-enhancer-cli-*.tgz
ske dashboard /path/to/test-project
```

### 4. å‘å¸ƒåˆ° npm

```bash
cd cli

# ç™»å½• npmï¼ˆé¦–æ¬¡å‘å¸ƒéœ€è¦ï¼‰
npm login

# æ£€æŸ¥å‘å¸ƒå†…å®¹ï¼ˆå¯é€‰ä½†æ¨èï¼‰
npm pack --dry-run

# å‘å¸ƒ
npm publish

# å¦‚æœåŒ…åè¢«å ç”¨ï¼Œå¯ä»¥å‘å¸ƒåˆ°ä½œç”¨åŸŸä¸‹
npm publish --access public
```

### 5. éªŒè¯å‘å¸ƒ

```bash
# ç­‰å¾…å‡ åˆ†é’Ÿåæµ‹è¯•
npm install -g @speckit-enhancer/cli
ske --version
ske dashboard --help
```

### 6. æ¨é€ä»£ç å’Œæ ‡ç­¾

```bash
# æ¨é€ä»£ç 
git push origin main

# æ¨é€ç‰ˆæœ¬æ ‡ç­¾
git push origin --tags
```

---

## ğŸ‘¥ ç”¨æˆ·ä½¿ç”¨æŒ‡å—

### æ–¹å¼ 1ï¼šå…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰âœ…

è¿™æ˜¯æœ€ç»ˆç”¨æˆ·çš„æ ‡å‡†ä½¿ç”¨æ–¹å¼ï¼Œ**æ— éœ€æºä»£ç **ã€‚

```bash
# 1. å…¨å±€å®‰è£…
npm install -g @speckit-enhancer/cli

# 2. åœ¨ä»»æ„ Spec-Kit é¡¹ç›®ä¸­ä½¿ç”¨
cd /path/to/your-speckit-project
ske dashboard

# 3. è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
ske dashboard --open

# 4. è‡ªå®šä¹‰ç«¯å£
ske dashboard --port 8080

# 5. æŸ¥çœ‹å¸®åŠ©
ske dashboard --help
```

**å°±è¿™ä¹ˆç®€å•ï¼ç”¨æˆ·å®Œå…¨ä¸éœ€è¦çŸ¥é“æºä»£ç åœ¨å“ªé‡Œã€‚** ğŸ‰

### æ–¹å¼ 2ï¼šé¡¹ç›®æœ¬åœ°å®‰è£…

é€‚ç”¨äºé¡¹ç›®å›¢é˜Ÿç»Ÿä¸€ç‰ˆæœ¬ï¼š

```bash
# åœ¨é¡¹ç›®ä¸­å®‰è£…
npm install --save-dev @speckit-enhancer/cli

# package.json ä¸­æ·»åŠ è„šæœ¬
{
  "scripts": {
    "dashboard": "ske dashboard",
    "dashboard:open": "ske dashboard --open"
  }
}

# ä½¿ç”¨
npm run dashboard
```

### æ–¹å¼ 3ï¼šä½¿ç”¨ npxï¼ˆä¸´æ—¶ä½¿ç”¨ï¼‰

æ— éœ€å®‰è£…ï¼Œç›´æ¥è¿è¡Œï¼š

```bash
npx @speckit-enhancer/cli dashboard
```

---

## ğŸ”§ å¼€å‘è€…æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# 1. å…‹éš†ä»“åº“
git clone <repository-url>
cd speckit-enhancer

# 2. å®‰è£…ä¾èµ–
npm install
cd dashboard && npm install
cd ../cli && npm install
cd ..

# 3. é“¾æ¥åˆ°å…¨å±€ï¼ˆä¾¿äºè°ƒè¯•ï¼‰
cd cli
npm link
cd ..
```

### å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰

```bash
# ä½¿ç”¨ --dev æ ‡å¿—å¯ç”¨çƒ­é‡è½½
cd /path/to/test-project
ske dashboard --dev
```

### æ¨¡å¼å¯¹æ¯”

| ç‰¹æ€§ | ç”Ÿäº§æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ | å¼€å‘æ¨¡å¼ (--dev) |
|------|---------------|-----------------|
| éœ€è¦æºä»£ç  | âŒ ä¸éœ€è¦ | âœ… éœ€è¦ |
| é™æ€æ–‡ä»¶æ¥æº | `cli/public/`ï¼ˆå†…åµŒï¼‰ | Vite Dev Server |
| å¯åŠ¨é€Ÿåº¦ | âš¡ å¿«ï¼ˆå³æ—¶ï¼‰ | ğŸ¢ æ…¢ï¼ˆéœ€æ„å»ºï¼‰ |
| çƒ­é‡è½½ | âŒ | âœ… |
| é€‚ç”¨åœºæ™¯ | æœ€ç»ˆç”¨æˆ· | å¼€å‘è°ƒè¯• |

---

## âš™ï¸ å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·å®‰è£… CLI                            â”‚
â”‚ $ npm install -g @speckit-enhancer/cli â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLI åŒ…ç»“æ„                              â”‚
â”‚                                        â”‚
â”‚ @speckit-enhancer/cli/                â”‚
â”‚ â”œâ”€â”€ dist/         â† CLI ä»£ç            â”‚
â”‚ â”œâ”€â”€ public/       â† é™æ€æ–‡ä»¶ï¼ˆå†…åµŒï¼‰    â”‚
â”‚ â”‚   â”œâ”€â”€ index.html                    â”‚
â”‚ â”‚   â””â”€â”€ assets/                       â”‚
â”‚ â””â”€â”€ package.json                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·è¿è¡Œå‘½ä»¤                            â”‚
â”‚ $ ske dashboard                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLI å¯åŠ¨ HTTP æœåŠ¡å™¨                    â”‚
â”‚ - è¯»å– cli/public/ ç›®å½•                â”‚
â”‚ - æä¾›é™æ€æ–‡ä»¶æœåŠ¡                      â”‚
â”‚ - ç›‘å¬ç«¯å£ 3000ï¼ˆé»˜è®¤ï¼‰                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æµè§ˆå™¨æ‰“å¼€ http://localhost:3000       â”‚
â”‚ - åŠ è½½ Dashboard UI                    â”‚
â”‚ - è°ƒç”¨ CLI API è¯»å–é¡¹ç›®æ–‡æ¡£             â”‚
â”‚ - å±•ç¤ºæ–‡æ¡£å’Œè¯„è®º                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ„å»ºäº§ç‰©è¯´æ˜

æ‰§è¡Œ `./scripts/build.sh` åï¼š

```
speckit-enhancer/
â”œâ”€â”€ dashboard/dist/        â† å‰ç«¯æ„å»ºäº§ç‰©ï¼ˆä¸´æ—¶ï¼‰
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ assets/
â”‚
â””â”€â”€ cli/
    â”œâ”€â”€ dist/              â† CLI ç¼–è¯‘åä»£ç 
    â”‚   â”œâ”€â”€ index.js       â† å…¥å£æ–‡ä»¶ï¼ˆbinï¼‰
    â”‚   â”œâ”€â”€ commands/
    â”‚   â””â”€â”€ services/
    â”‚       â””â”€â”€ staticServer.js  â† é™æ€æœåŠ¡å™¨
    â”‚
    â””â”€â”€ public/            â† ä» dashboard/dist å¤åˆ¶è€Œæ¥
        â”œâ”€â”€ index.html     â† å‰ç«¯å…¥å£
        â””â”€â”€ assets/        â† JS/CSS/å­—ä½“ç­‰
```

**å‘å¸ƒåˆ° npm æ—¶åªåŒ…å« `cli/` ç›®å½•ï¼**

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šç”¨æˆ·æŠ¥å‘Š"æ‰¾ä¸åˆ°æ–‡ä»¶"

```bash
# æ£€æŸ¥å‘å¸ƒåŒ…å†…å®¹
cd cli
npm pack
tar -tzf speckit-enhancer-cli-*.tgz | grep public

# åº”è¯¥çœ‹åˆ°ï¼š
# package/public/index.html
# package/public/assets/...
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®ä¿ `cli/package.json` çš„ `files` å­—æ®µåŒ…å« `"public"`
- ç¡®ä¿æ„å»ºè„šæœ¬æ­£ç¡®å¤åˆ¶äº† `dashboard/dist/` åˆ° `cli/public/`

### é—®é¢˜ 2ï¼šDashboard é¡µé¢ç©ºç™½æˆ– 404

```bash
# æ£€æŸ¥é™æ€æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la cli/public/

# æ£€æŸ¥æ„å»ºæ—¥å¿—
./scripts/build.sh
```

**è§£å†³æ–¹æ¡ˆï¼š**
- é‡æ–°è¿è¡Œæ„å»ºè„šæœ¬ï¼š`./scripts/build.sh`
- ç¡®ä¿ Dashboard æ„å»ºæˆåŠŸï¼š`cd dashboard && npm run build`

### é—®é¢˜ 3ï¼šç‰ˆæœ¬å·æœªæ›´æ–°

```bash
# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
cat cli/package.json | grep version

# æ‰‹åŠ¨æ›´æ–°ç‰ˆæœ¬ï¼ˆå¦‚æœ npm version å¤±è´¥ï¼‰
cd cli
npm version --no-git-tag-version patch
```

### é—®é¢˜ 4ï¼šå¼€å‘æ¨¡å¼ä¸ç”Ÿæ•ˆ

```bash
# ç¡®ä¿ä½¿ç”¨ --dev æ ‡å¿—
ske dashboard --dev

# æ£€æŸ¥æºä»£ç æ˜¯å¦å­˜åœ¨
ls -la ../../dashboard/src/
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®ä¿åœ¨æºä»£ç ç›®å½•æˆ–ä½¿ç”¨ `npm link`
- æ£€æŸ¥ç¯å¢ƒå˜é‡ `NODE_ENV` æ˜¯å¦æ­£ç¡®

### é—®é¢˜ 5ï¼šç«¯å£è¢«å ç”¨

```bash
# æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :3000

# ä½¿ç”¨å…¶ä»–ç«¯å£
ske dashboard --port 8080
```

---

## ğŸ“Š å‘å¸ƒåçš„åŒ…ç»“æ„

```
@speckit-enhancer/cli/
â”œâ”€â”€ dist/              # CLI ç¼–è¯‘åçš„ä»£ç 
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ commands/
â”‚   â””â”€â”€ services/
â”œâ”€â”€ public/            # Dashboard é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ index-xxx.js
â”‚   â”‚   â””â”€â”€ index-xxx.css
â”‚   â””â”€â”€ ...
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## âœ… å‘å¸ƒéªŒè¯æ¸…å•

å‘å¸ƒå‰è¯·ç¡®è®¤ï¼š

- [ ] å·²è¿è¡Œ `npm version` æ›´æ–°ç‰ˆæœ¬å·
- [ ] `./scripts/build.sh` è¿è¡ŒæˆåŠŸ
- [ ] `cli/public/` åŒ…å« `index.html` å’Œ `assets/`
- [ ] `cli/dist/` åŒ…å«ç¼–è¯‘åçš„ `.js` æ–‡ä»¶
- [ ] `npm pack` ç”Ÿæˆçš„ tarball åŒ…å« `public/` ç›®å½•
- [ ] æœ¬åœ°æµ‹è¯•ï¼š`node cli/dist/index.js dashboard .` æ­£å¸¸è¿è¡Œ
- [ ] æµ‹è¯•ç”Ÿäº§æ¨¡å¼å’Œå¼€å‘æ¨¡å¼éƒ½èƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ›´æ–°äº† CHANGELOG.mdï¼ˆå¦‚æœæœ‰ï¼‰

---

## ğŸ¯ å…³é”®ç‚¹æ€»ç»“

1. **ç‰ˆæœ¬ç®¡ç†**ï¼šæ¯æ¬¡å‘å¸ƒå‰å¿…é¡»ä½¿ç”¨ `npm version` æ›´æ–°ç‰ˆæœ¬å·
2. **ç”¨æˆ·ä½“éªŒ**ï¼šç”¨æˆ·åªéœ€ `npm install -g` å³å¯ä½¿ç”¨ï¼Œæ— éœ€ä»»ä½•æºä»£ç 
3. **å¼€å‘ä½“éªŒ**ï¼šå¼€å‘è€…å¯ä»¥ä½¿ç”¨ `--dev` æ ‡å¿—å¯ç”¨çƒ­é‡è½½
4. **åŒ…å¤§å°**ï¼šé™æ€æ–‡ä»¶ä¼šè¢«æ‰“åŒ…è¿› CLIï¼Œç¡®ä¿ Dashboard æ„å»ºæ—¶å¯ç”¨å‹ç¼©å’Œä»£ç åˆ†å‰²
5. **å‘åå…¼å®¹**ï¼šä¿ç•™å¼€å‘æ¨¡å¼æ”¯æŒç°æœ‰å¼€å‘æµç¨‹
6. **æµ‹è¯•ä¼˜å…ˆ**ï¼šå‘å¸ƒå‰åŠ¡å¿…æœ¬åœ°æµ‹è¯•ç”Ÿäº§æ¨¡å¼

---

## ğŸ“š ç›¸å…³èµ„æº

- [é¡¹ç›® README](../README.md) - é¡¹ç›®æ¦‚è¿°
- [CLI README](../cli/README.md) - CLI è¯¦ç»†æ–‡æ¡£
- [Dashboard README](../dashboard/README.md) - Dashboard è¯¦ç»†æ–‡æ¡£
- [æ„å»ºè„šæœ¬](../scripts/build.sh) - è‡ªåŠ¨æ„å»ºè„šæœ¬

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœä½ æƒ³ä¸ºé¡¹ç›®è´¡çŒ®ä»£ç ï¼š

1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æäº¤ Pull Request

---

**æœ€åæ›´æ–°ï¼š** 2025-11-26
